{% extends 'dashboard_base.html' %}

{% block title %}
채널 영상 검색 결과
{% endblock %}

{% block add_nav %}
              <li class="nav-item">
                <div class="search_list">
                    <div class="search_title">{{ title }}</div>
                    <div class="search_cancel" style="user-select: auto;"><a class="search_cancel_link" href= {{url_for('dashboard.search') }}>Clear</a></div>
                </div>
              </li>
{% endblock %}

{% block main_content %}
    <!-- Dashboard Main -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Dashboard</h1>
      </div>

        <div class="col-lg-12 grid-margin stretch-card" style="user-select: auto;">
                      <div class="dashboard-card card" style="user-select: auto;">
                        <div class="card-body" style="user-select: auto;">
                          <h5 class="card-title" style="user-select: auto;">{{ title }} 검색 결과</h5>

                          <div class="video_table" class="table-responsive pt-3" style="user-select: auto;">
                            <table  id="table" class="table table-bordered" style="user-select: auto;">
                              <thead style="user-select: auto;">
                                <tr style="user-select: auto;">
                                    {% for t in titles %}
                                        <th scope="col">{{ t }}</th>
                                    {% endfor %}
                                </tr>
                              </thead>

                              <tbody style="user-select: auto;">
                                    {% for i in vid.index %}        <! -- for tag start -->
                                    <tr style="user-select: auto;">
                                        <td style="width: 10%;">{{ vid['video_id'][i] }}</td>
                                        <td style="width: 30%;">{{ vid['video_title'][i] }}</td>
                                        <td style="width: 10%;">{{ vid['published_at'][i] }}</td>
                                        <td style="width: 10%;">{{ vid['view_count'][i] }}</td>
                                        <td style="width: 7.5%;">{{ vid['like_count'][i] }}</td>
                                        <td style="width: 7.5%;">{{ vid['comment_count'][i] }}</td>
                                        <td style="width: 15%;">{{ vid['wiki_category'][i] }}</td>
                                    </tr>
                                    {% endfor %}                          <! -- for tag end -->
                              </tbody>

                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
    </main>
  </div>
</div>
{% endblock %}

{% block scripts %}

  <script>
    $(document).ready(function () {
      $('#table').dataTable({
        columns: [
          {searchable: false, orderable: false},
          {orderable: false},
          {searchable: false},
          {searchable: false},
          {searchable: false},
          {searchable: false},
          null],
      });
    });
  </script>
{% endblock %}
