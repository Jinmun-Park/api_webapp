{% extends 'base.html' %}

{% block title %}
채널 검색
{% endblock %}

{% block content %}

<!-- Bootstrap core CSS -->
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>

    <!-- Dashboard Header -->
    <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    </header>

    <!-- Dashboard Navbar -->
    <div class="container-fluid">
      <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
          <div class="position-sticky pt-3">
            <ul class="nav flex-column">
              <li class="nav-item">
                      <div class="search">
                      <form id="search_channel" method="get" action="/dashboard/channel_result">
                      <input name="cha_name" type="text" class="form-control" placeholder="채널을 검색하세요." aria-label="채널을 검색하세요." aria-describedby="button-addon2">
                      <input type="submit" value="검색">
                      </form>
                      </div>
              </li>

              <li class="nav-item">
                <div class="search_list">
                    <div class="search_title">{{ title }}</div>
                    <div class="search_cancel" style="user-select: auto;"><a href= {{url_for('dashboard.search') }}>Clear all</a></div>
                </div>
              </li>

              <li class="nav-item">
                      <div class="search">
                      <form id="search_keyword" method="get" action="/dashboard/filter_result">
                      <input name="find" type="text" class="form-control" placeholder="키워드를 검색하세요." aria-label="키워드를 검색하세요." aria-describedby="button-addon2">
                      <input type="submit" value="검색">
                      </form>
                      </div>
              </li>
            </ul>
          </div>
        </nav>

    <!-- Dashboard Main -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Dashboard</h1>
      </div>

        <div class="col-lg-12 grid-margin stretch-card" style="user-select: auto;">
                      <div class="card" style="user-select: auto;">
                        <div class="card-body" style="user-select: auto;">
                          <h5 class="card-title" style="user-select: auto;">{{ title }} 검색 결과</h5>

                          <div class="table-responsive pt-3" style="user-select: auto;">
                            <table  id="table" class="table table-bordered" style="user-select: auto;">
                              <thead style="user-select: auto;">
                                <tr style="user-select: auto;">
                                    {% for t in titles %}
                                        <th scope="col">{{ t }}</th>
                                    {% endfor %}
                                </tr>
                              </thead>

                              <tbody style="user-select: auto;">
                                    {% for i in vid.index %}        <! -- for tag start -->
                                    <tr style="user-select: auto;">
                                        <td style="user-select: auto;">{{ vid['video_id'][i] }}</td>
                                        <td style="user-select: auto;">{{ vid['video_title'][i] }}</td>
                                        <td style="user-select: auto;">{{ vid['published_at'][i] }}</td>
                                        <td style="user-select: auto;">{{ vid['view_count'][i] }}</td>
                                        <td style="user-select: auto;">{{ vid['like_count'][i] }}</td>
                                        <td style="user-select: auto;">{{ vid['favorite_count'][i] }}</td>
                                        <td style="user-select: auto;">{{ vid['comment_count'][i] }}</td>
                                        <td style="user-select: auto;">{{ vid['wiki_category'][i] }}</td>
                                    </tr>
                                    {% endfor %}                          <! -- for tag end -->
                              </tbody>

                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
    </main>
  </div>
</div>

{% endblock %}

{% block scripts %}

  <script>
    $(document).ready(function () {
      $('#table').dataTable({
        columns: [
          {searchable: false, orderable: false},
          {orderable: false},
          {searchable: false},
          {searchable: false},
          {searchable: false},
          {searchable: false},
          {searchable: false},
          null],
      });
    });
  </script>


{% endblock %}
